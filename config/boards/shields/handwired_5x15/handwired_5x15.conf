# Enable deep sleep (saves battery when idle)
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000

# Increase BLE transmit power for better range
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Enable Bluetooth
CONFIG_ZMK_BLE=y

# Enable ZMK Studio
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=y

# Enable eager debouncing
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=1
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=10

# Improve Windows 11 compatibility
CONFIG_BT_GATT_ENFORCE_SUBSCRIPTION=n
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=6
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=12

# Increase connection stability
CONFIG_BT_MAX_CONN=2
CONFIG_BT_MAX_PAIRED=3

# Enable settings storage (CRITICAL for Studio persistence)
CONFIG_ZMK_SETTINGS_SAVE_DEBOUNCE=60000

# Enable NVS (Non-Volatile Storage) for settings
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y
CONFIG_NVS=y

# Allocate flash storage for settings
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_MPU_ALLOW_FLASH_WRITE=y

# Enable USB logging (optional, for debugging)
# CONFIG_ZMK_USB_LOGGING=y
